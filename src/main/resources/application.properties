# ==================================
# SECTION 1: SERVER CONFIGURATION
# ==================================
server:
  port: 8080 # Default port for the application
  servlet:
    context-path: /api/v1 # Global API prefix

# ==================================
# SECTION 2: APPLICATION METADATA
# ==================================
spring:
  application:
    name: food-delivery-service
  profiles:
    active: dev # Default profile (use 'prod' for production)

# ==================================
# SECTION 3: DATABASE CONFIGURATION (MySQL Example)
# NOTE: Replace 'localhost', 'food_db', 'user', and 'password'
# ==================================
  datasource:
    url: jdbc:mysql://localhost:3306/food_db?useSSL=false&serverTimezone=UTC
    username: food_app_user
    password: strongpassword123
    driver-class-name: com.mysql.cj.jdbc.Driver

  jpa:
    hibernate:
      # 'update' -> Updates schema based on entities (good for dev)
      # 'none' -> No DDL generation (best for prod with Flyway/Liquibase)
      ddl-auto: update
    show-sql: true # Show SQL queries in the console (helpful for debugging)
    properties:
      hibernate:
        format_sql: true # Format the SQL for readability
        dialect: org.hibernate.dialect.MySQL8Dialect

# ==================================
# SECTION 4: SPRING SECURITY & JWT
# (Used for authentication/authorization for customers, restaurants, and drivers)
# ==================================
jwt:
  # The secret key used to sign the JWT token. MUST be long and complex in production.
  secret: your_very_long_and_complex_jwt_signing_secret_key_here
  expiration: 86400000 # Token validity in milliseconds (24 hours)
  header: Authorization
  prefix: Bearer

# ==================================
# SECTION 5: EXTERNAL SERVICE INTEGRATIONS
# (Payment Gateway and Messaging/SMS Service)
# ==================================

# --- 5.1 Payment Gateway (e.g., Stripe, Razorpay) ---
payment:
  gateway: razorpay # Or stripe, paypal
  razorpay:
    key-id: rzp_test_xxxxxxxxxxxxxx
    key-secret: secret_test_yyyyyyyyyyyyyy
    webhook-secret: whsec_zzzzzzzzzzzzzzzz

# --- 5.2 SMS/Notification Service (e.g., Twilio) ---
notification:
  twilio:
    account-sid: ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
    auth-token: YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY
    from-phone-number: +15017122661 # Twilio number to send messages from

# ==================================
# SECTION 6: LOGGING CONFIGURATION
# ==================================
logging:
  level:
    root: INFO
    # Set custom logging level for your application packages
    com.fooddelivery.app: DEBUG
    # Disable chatty logging from Hibernate/JPA
    org.hibernate.SQL: DEBUG
    org.springframework.web: INFO
  file:
    # Define a log file path (optional, but good for production)
    name: /var/log/food-app/application.log

